{"index.html":"<html><head><script src=\"//npmci.syncfusion.com/development/demos/query-builder/drag-drop/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/27.1.48/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/27.1.48/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n            .control-section{\n                margin-top:100px;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"col-lg-12 control-section\">\n    <div id=\"querybuilder\"></div>\n    <div class=\"e-query-preview\" id=\"e-query-preview\">\n        <div class=\"e-tab-section\">\n            <div>\n                <div class=\"e-sample-resize-container\">\n                    <div id=\"tab_orientation\">\n                        <div class=\"e-tab-header\">\n                            <div>SQL</div>\n                            <div>JSON</div>\n                        </div>\n                        <div class=\"e-content\" id=\"e-query-preview\">\n                            <div class=\"preview\">\n                                <div class=\"content\">\n                                    <div>\n                                        <div id=\"container\">\n                                            <label>Format Info:</label>\n                                            <input type=\"radio\" class=\"e-radio-option\" id=\"element1\">\n                                            <input type=\"radio\" class=\"e-radio-option\" id=\"element2\">\n                                            <input type=\"radio\" class=\"e-radio-option\" id=\"element3\">\n                                            <div class=\"copy-tooltip\" style=\"display: none;\" id=\"copy-sql\">\n                                                <div id=\"sqlTooltip\">\n                                                    <div class=\"e-icons copycode\"></div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div style=\"margin-top: 10px;\">\n                                            <div readonly=\"\" class=\"e-text-area-content e-sql-content\">\n                                                <pre class=\"e-pre-content\"></pre>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div>\n                                <div id=\"container\" style=\"height: 54px; padding: 10px;\">\n                                    <div class=\"copy-tooltip\" style=\"display: none;\" id=\"copy-json\">\n                                        <div id=\"jsonTooltip\">\n                                            <div class=\"e-icons copycode\"></div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div style=\"margin-top: 10px;\">\n                                    <div readonly=\"\" class=\"e-text-area-content e-json-content\">\n                                        <pre class=\"e-pre-content\"></pre>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n","index.js":"{{ripple}}\n    var content;\n    var selectedIndex = 0;\n    var selectedContent;\n    var queryType = 'inline';\n\n    var importRules = {\n        condition: \"or\",\n        rules: [\n            { label: \"First Name\", field: \"FirstName\", type: \"string\", operator: \"notequal\", value: \"Andre\" },\n            { label: \"Age\", field: \"Age\", type: \"number\", operator: \"greaterthan\", value: 50 },\n            { label: \"Last Name\", field: \"LastName\", type: \"string\", operator: \"in\", value: ['Davolio', 'Buchanan'] },\n            { condition: \"and\", rules: [\n                    { label: \"Primary Framework\", field: \"PrimaryFramework\", type: \"string\", operator: \"equal\", value: \"TypeScript\" },\n                    { label: \"Is Developer\", field: \"IsDeveloper\", type: \"boolean\", operator: \"equal\", value: true }\n                ]\n            },\n            { label: \"Hire Date\", field: \"HireDate\", type: \"date\", operator: \"between\", value: [\"11/15/2023\", \"11/30/2023\"] },\n        ],\n    };\n\n    var qryBldrObj = new ej.querybuilder.QueryBuilder({\n        dataSource: window.employeeData,\n        rule: importRules,\n        ruleChange: updateRule,\n        allowDragAndDrop: true\n    });\n    qryBldrObj.appendTo('#querybuilder');\n\n    var radioButton = new ej.buttons.RadioButton({ label: 'Inline', cssClass: 'e-custom-radio-btn', name: 'state', checked: true, value: \"Inline\", change: change });\n    radioButton.appendTo('#element1');\n\n    radioButton = new ej.buttons.RadioButton({ label: 'Parameterized', name: 'state', value: \"Parameterized\", change: change, cssClass: 'e-custom-radio-btn' });\n    radioButton.appendTo('#element2');\n\n    radioButton = new ej.buttons.RadioButton({ label: 'Named Parameter', name: 'state', value: \"NamedParameter\", change: change, cssClass: 'e-custom-radio-btn' });\n    radioButton.appendTo('#element3');\n\n    function convertParameterSql(qbrule) {\n        content = JSON.stringify(qryBldrObj.getParameterizedSql(qbrule), null, 4);\n    }\n    \n    function convertNamedParameterSql(qbrule) {\n        content = JSON.stringify(qryBldrObj.getParameterizedNamedSql(qbrule), null, 4);\n    }\n\n    function updateContent() {\n        var qbrule = qryBldrObj.getValidRules(qryBldrObj.rule);\n        switch (queryType) {\n            case 'inline':\n                content = qryBldrObj.getSqlFromRules(qbrule);\n                break;\n            case 'parameterized':\n                convertParameterSql(qbrule);\n                break;\n            default:\n                convertNamedParameterSql(qbrule);\n                break;\n        }\n        document.querySelector('.e-sql-content .e-pre-content').textContent = content;\n        if (typeof hljs !== 'undefined') {\n            hljs.highlightBlock(document.querySelector('.e-sql-content'));\n        }\n    }\n\n    function change(args) {\n        queryType = args.value.toLowerCase();\n        updateContent();\n    }\n\n    function tabChange(args) {\n        selectedIndex = args.selectedIndex;\n        selectedContent = args.selectedContent;\n        updateRule();\n    }\n\n    var tabObj = new ej.navigations.Tab({\n        height: 320,\n        created: updateContent,\n        selected: tabChange\n    });\n    tabObj.appendTo('#tab_orientation');\n\n    var sqlTooltip = new ej.popups.Tooltip({\n        opensOn: 'Click',\n        content: 'Copied to clipboard'\n    });\n    sqlTooltip.appendTo('#sqlTooltip');\n\n    var jsonTooltip = new ej.popups.Tooltip({\n        opensOn: 'Click',\n        content: 'Copied to clipboard'\n    });\n    jsonTooltip.appendTo('#jsonTooltip');\n\n    function updateJsonContent() {\n        var validRule = qryBldrObj.getValidRules(qryBldrObj.rule);\n        content = JSON.stringify(validRule, null, 4);\n        document.querySelector('.e-json-content .e-pre-content').textContent = content;\n        if (typeof hljs !== 'undefined') {\n            hljs.highlightBlock(document.querySelector('.e-sql-content'));\n        }\n    }\n\n    function updateRule() {\n        switch (selectedIndex) {\n            case 0:\n                updateContent();\n                break;\n            case 1:\n                updateJsonContent();\n                break;\n        }\n    }\n\n    var copySQLTooltip = document.getElementById('copy-sql');\n    copySQLTooltip.addEventListener('click', function (args) {\n        navigator.clipboard.writeText(content);\n        setTimeout(function () {\n            ej.base.getComponent(args.target.closest('.e-tooltip'), 'tooltip').close();\n        }, 1000);\n    });\n\n    var copyJsonTooltip = document.getElementById('copy-json');\n    copyJsonTooltip.addEventListener('click', function (args) {\n        navigator.clipboard.writeText(content);\n        setTimeout(function () {\n            ej.base.getComponent(args.target.closest('.e-tooltip'), 'tooltip').close();\n        }, 1000);\n    });\n\n    var queryPreview = document.getElementById('e-query-preview');\n    queryPreview.addEventListener('mouseleave', function () {\n        var elem = document.getElementsByClassName(\"copy-tooltip\");\n        for (var i = 0; i < elem.length; i++) {\n            if (selectedIndex == i) {\n                elem[i].style.display = 'none';\n            }\n        }\n    });\n    queryPreview.addEventListener('mouseenter', function () {\n        var elem = document.getElementsByClassName(\"copy-tooltip\");\n        for (var i = 0; i < elem.length; i++) {\n            if (selectedIndex == i) {\n                elem[i].style.display = 'block';\n            }\n        }\n    });\n\n"}
{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/pivot-table/local/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/27.1.48/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/27.1.48/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n            .control-section{\n                margin-top:100px;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"control-section\">\n    <div id=\"dropdown-control\" style=\"margin-bottom:5px;\">\n        <table style=\"max-width: 330px;\">\n            <tbody>\n                <tr style=\"height: 50px\">\n                    <td>\n                        <div><b>Content Type:</b>\n                        </div>\n                    </td>\n                    <td>\n                        <div style=\"padding-left: 5px;\">\n                            <select id=\"contenttype\" name=\"ddl-view-mode\">\n                                <option value=\"JSON\" selected=\"\">JSON</option>\n                                <option value=\"CSV\">CSV</option>\n                            </select>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class=\"content-wrapper\">\n        <div id=\"PivotView\" style=\"height:100%;\">\n        </div>\n    </div>\n</div>\n\n<style>\n    .sb-sample-content-area {\n        min-height: 255px !important;\n    }\n    .control-section {\n        min-height: 255px !important;\n        padding-top: 5px;\n    }\n</style></div></body></html>","index.js":"{{ripple}}/**\n * Pivot Table sample for Local data source.\n */\n\n    ej.base.enableRipple(false);\n\n    var jsonReport = {\n        type: 'JSON',\n        dataSource: window.renewableEnergy,\n        expandAll: false,\n        rows: [\n            { name: 'Year', caption: 'Production Year' },\n            { name: 'HalfYear', caption: 'Half Year' },\n            { name: 'Quarter', caption: 'Quarter' }\n        ],\n        values: [\n            { name: 'PowUnits', caption: 'Units (GWh)' },\n            { name: 'ProCost', caption: 'Cost (MM)' }\n        ],\n        columns: [\n            { name: 'EnerType', caption: 'Energy Type' },\n            { name: 'EneSource', caption: 'Energy Source' }\n        ],\n        filters: [],\n        enableSorting: true,\n        formatSettings: [{ name: 'ProCost', format: 'C0' }, { name: 'PowUnits', format: 'N0' }],\n        drilledMembers: [{ name: 'EnerType', items: ['Biomass', 'Free Energy'] }]\n    };\n\n    var csvReport = {\n        type: 'CSV',\n        expandAll: false,\n        enableSorting: true,\n        formatSettings: [{ name: 'Total Cost', format: 'C0' }, { name: 'Total Revenue', format: 'C0' }, { name: 'Total Profit', format: 'C0' }],\n        drilledMembers: [{ name: 'Item Type', items: ['Baby Food'] }],\n        rows: [\n            { name: 'Region' },\n            { name: 'Country' }\n        ],\n        columns: [\n            { name: 'Item Type' },\n            { name: 'Sales Channel' }\n        ],\n        values: [\n            { name: 'Total Cost' },\n            { name: 'Total Revenue' },\n            { name: 'Total Profit' }\n        ],\n        filters: []\n    };\n\n    var pivotObj = new ej.pivotview.PivotView({\n        dataSourceSettings: jsonReport,\n        height: 290,\n        width: '100%',\n        gridSettings: { columnWidth: 120 },\n        load: function (args) {\n            if (args.dataSourceSettings.type === 'CSV') {\n                args.dataSourceSettings.dataSource = getCSVData();\n            }\n        }\n    });\n    pivotObj.appendTo('#PivotView');\n\n    var contentDropDown = new ej.dropdowns.DropDownList({\n        placeholder: 'Content Type',\n        change: function (args) {\n            if (args.value === 'JSON') {\n                pivotObj.dataSourceSettings = jsonReport;\n            } else if (args.value === 'CSV') {\n                csvReport.dataSource = getCSVData();\n                pivotObj.dataSourceSettings = csvReport;\n            }\n        }\n    });\n    contentDropDown.appendTo('#contenttype');\n\n    function getCSVData() {\n        var dataSource = [];\n        var jsonObject = window.csvdata.split(/\\r?\\n|\\r/);\n        for (var i = 0; i < jsonObject.length; i++) {\n            if (!ej.base.isNullOrUndefined(jsonObject[i]) && jsonObject[i] !== '') {\n                dataSource.push(jsonObject[i].split(','));\n            }\n        }\n        return dataSource;\n    }\n"}
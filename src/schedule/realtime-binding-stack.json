{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/schedule/realtime-binding/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/27.1.48/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/27.1.48/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n            .control-section{\n                margin-top:100px;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"control-section\">\n    <div class=\"content-wrapper\">\n        <div id=\"Schedule\"></div>\n    </div>\n</div>\n\n</div></body></html>","index.js":"{{ripple}}\r\n    var script = ej.base.createElement('script');\r\n    script.setAttribute('src', 'https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/5.0.9/signalr.min.js');\r\n    script.setAttribute(\"async\", \"false\");\r\n    var head = document.head;\r\n    head.insertBefore(script, head.firstElementChild);\r\n    script.addEventListener('load', scriptLoaded, false);\r\n\r\n    var connection;\r\n    var data = new ej.base.extend([], window.scheduleData, null, true);\r\n    var isHubConnected = false;\r\n    var scheduleObj = new ej.schedule.Schedule({\r\n        height: '550px',\r\n        selectedDate: new Date(2021, 0, 10),\r\n        eventSettings: { dataSource: data },\r\n        navigating: function (args) {\r\n            if (args.action == 'view' && isHubConnected) {\r\n                connection.invoke('SendData', args.action, args.currentView);\r\n            }\r\n        },\r\n        actionComplete: function (args) {\r\n            if (isHubConnected && (args.requestType === 'eventCreated' || args.requestType === 'eventChanged' || args.requestType === 'eventRemoved')) {\r\n                connection.invoke('SendData', args.requestType, scheduleObj.eventSettings.dataSource);\r\n            }\r\n        },\r\n    });\r\n    scheduleObj.appendTo('#Schedule');\r\n\r\n    function scriptLoaded() {\r\n        connection = new signalR.HubConnectionBuilder().withUrl(\"https://ej2.syncfusion.com/aspnetcore/schedulehub/\", { withCredentials: false, skipNegotiation: true, transport: signalR.HttpTransportType.WebSockets }).withAutomaticReconnect().build();\r\n        connection.on('ReceiveData', function (action, data) {\r\n            if (action == 'view') {\r\n                scheduleObj.currentView = data;\r\n            }\r\n            if (action === 'eventCreated' || action === 'eventChanged' || action === 'eventRemoved') {\r\n                scheduleObj.eventSettings.dataSource = data;\r\n            }\r\n        });\r\n\r\n        connection.start().then(function () { isHubConnected = true; }).catch(function () { isHubConnected = false; });\r\n    }\r\n\r\n"}
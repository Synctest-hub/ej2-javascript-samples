{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/grid/detail-template/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/27.1.48/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/27.1.48/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n            .control-section{\n                margin-top:100px;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><style type=\"text/css\" class=\"cssStyles\">\n    .report {\n        font-size: 17px;\n        text-align: center;\n        padding-top: 5px;\n    }\n    .image img {\n        height: 55px;\n        width: 55px;\n        border-radius: 50px;\n        box-shadow: inset 0 0 1px #e0e0e0, inset 0 0 14px rgba(0, 0, 0, 0.2);\n    }\n    .e-grid .e-detailrow .e-detailcell .e-tab .e-content {\n        overflow-y: auto;\n    }\n</style>\n\n<script id=\"detailtemplate\" type=\"text/x-template\">\n    <p class='report'><b>Sprint</b></p>\n    <div class=\"e-tab-section\">\n        <div id=\"tab\">\n            <div class=\"e-tab-header\">\n                <div>Taskboard</div>\n                <div>Burndown Chart</div>\n            </div>\n            <div class=\"e-content\">\n                <div>\n                    <div id=\"taskTemplate\"></div>\n                </div>\n                <div>\n                    <div id=\"chartTemplate\"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script id=\"employeeImageTemplate\" type=\"text/x-template\">\n    ${employeeTemplate(data)}\n</script>\n<script id=\"mailIDTemplate\" type=\"text/x-template\">\n    <a href=\"mailto:${MailID}\">${MailID}</a>\n</script>\n<script id=\"cardTemplate\" type=\"text/x-template\">\n    <div class='card-template'>\n            <table class='card-template-wrap' style=\"width: 100%\">\n                <tbody>\n                    <tr>\n                        <td class='e-title'>\n                            <div class='e-card-header'>\n                                <div class='e-card-header-caption'>\n                                    <div class='e-card-header-title e-tooltip-text'>${Id}</div>\n                                </div>\n                            </div>\n                            <div>\n                                <table class='card-template-wrap'>\n                                    <tbody>\n                                        <tr class='e-tooltip-text'>\n                                            <td>\n                                                <div class=e-card-content>${Summary}</div>\n                                                <span class=e-card-content><b>Estimated hour:</b> ${Estimate}</span>\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n    </div>\n  </script>\n\n<div>\n    <div class=\"control-section\">\n        <div class=\"content-wrapper\">\n            <div id=\"Grid\"></div>\n        </div>\n    </div>\n</div>\n\n</div></body></html>","index.js":"{{ripple}}\n    var taskData = [];\n    var salesData = [];\n    var grid = new ej.grids.Grid({\n        dataSource: window.employeeDetail,\n        detailTemplate: '#detailtemplate',\n        height: 600,\n        allowSorting: true,\n        allowFiltering: true,\n        filterSettings: { type: 'CheckBox' },\n        columns: [\n            { headerText: 'Image', textAlign: 'Center', width: 70, template:'#employeeImageTemplate' },\n            { field: 'EmployeeID', headerText: 'ID', width: 70 },\n            { field: 'Name', headerText: 'Name', width: 70 },\n            { field: 'MailID', headerText: 'Email ID', width: 70, template:'#mailIDTemplate' },\n            { field: 'SoftwareTeam', headerText: 'Team(s)', width: 70 },\n            { field: 'ReportTo', headerText: 'Reporter', width: 70 }\n        ],\n        detailDataBound: function(args) {\n            var rowData = args.data;\n            taskData = window.taskDetail.filter(function (task) { return task.Assignee === rowData.Name; });\n            salesData = generateData(taskData);\n            var tabObj = new ej.navigations.Tab({\n                animation: {\n                    previous: { effect: 'None', duration: 0, easing: '' },\n                    next: { effect: 'None', duration: 0, easing: '' }\n                }\n            });\n            tabObj.appendTo(args.detailElement.querySelector('#tab'));\n            var kanbanObj = new ej.kanban.Kanban({\n                dataSource: taskData,\n                keyField: 'Status',\n                columns: [\n                    { headerText: 'Open', keyField: 'Open' },\n                    { headerText: 'In Progress', keyField: 'InProgress' },\n                    { headerText: 'Testing', keyField: 'Testing' },\n                    { headerText: 'Done', keyField: 'Close' }\n                ],\n                cardSettings: {\n                    template: '#cardTemplate',\n                    headerField: 'Id',\n                }\n            });\n            kanbanObj.appendTo(args.detailElement.querySelector('#taskTemplate'));\n            var chart = new ej.charts.Chart({\n                primaryXAxis: {\n                    valueType: 'Category',\n                    title: 'Status'\n                },\n                height: '302px',\n                title: 'Burndown Chart',\n                tooltip: { enable: true },\n                series: [\n                    {\n                        dataSource: salesData,\n                        xName: 'taskid',\n                        yName: 'estimatedHours',\n                        type: 'Line',\n                        name: 'Estimated Hours',\n                        marker: { visible: true, width: 10, height: 10 }\n                    },\n                    {\n                        dataSource: salesData,\n                        xName: 'taskid',\n                        yName: 'spentHours',\n                        type: 'Line',\n                        name: 'Spent Hours',\n                        marker: { visible: true, width: 10, height: 10 }\n                    }\n                ],\n                legendSettings: { visible: true }\n            });\n            var chartsContainer = args.detailElement.querySelector('#chartTemplate');\n            if (chartsContainer) {\n                taskData.forEach(function(data) {\n                    chartsContainer.id = 'chartTemplate_' + data.Assignee;\n                    chart.appendTo(chartsContainer);\n                });\n            }\n        }\n    });\n    grid.appendTo('#Grid');\n\n    function generateData(taskData) {\n        var statusCategories = ['Open', 'InProgress', 'Testing', 'Close'];\n        var statusData = statusCategories.map(function(status) {\n            var filteredTasks = taskData.filter(function(task) { return task.Status === status;});\n            var estimatedHours = filteredTasks.reduce(function(sum, task) { return sum + task.Estimate;}, 0);\n            var spentHours = filteredTasks.reduce(function(sum, task) { return sum + task.Spent;}, 0);\n            var taskid = '';\n            if (filteredTasks.length) {\n                taskid = filteredTasks[0].Id;\n            }\n            return { spentHours: spentHours, estimatedHours: estimatedHours, status: status, taskid: taskid };\n        });\n        return statusData;\n    }\n    window.employeeTemplate = function (e) {\n        var divElement = document.createElement('div');\n        divElement.className = 'image';\n        var imgElement = document.createElement('img');\n        imgElement.src = '//ej2.syncfusion.com/javascript/demos/src/grid/images/' + e.EmployeeID.replace('Emp100', '') + '.png';\n        imgElement.alt = e.EmployeeID;\n        divElement.appendChild(imgElement);\n        return divElement.outerHTML;\n    };\n"}
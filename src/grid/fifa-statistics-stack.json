{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/grid/fifa-statistics/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/27.1.48/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/27.1.48/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n            .control-section{\n                margin-top:100px;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"control-section\">\n    <div class=\"content-wrapper\">\n        <div id=\"tooltip\">\n            <div id=\"fifa_grid\">\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n\n\n<style>\n    /* Tooltip */\n\n    .fifa_tooltip.e-tooltip-wrap {\n        border-radius: 15px;\n    }\n\n    .fifa_tooltip.e-tooltip-wrap .e-tip-content {\n        padding: 0;\n        line-height: 20px;\n        font-size: 14px;\n    }\n\n    /* Grid */\n\n    #fifa_grid .e-gridcontent,\n    #fifa_grid .e-gridcontent .e-content,\n    #fifa_grid .e-gridcontent table {\n        background: transparent;\n    }\n\n    #fifa_grid .goal {\n        margin-right: 3px;\n        margin-top: 5px;\n        opacity: 0.6;\n    }\n\n    #fifa_grid .goal path {\n        fill: #000000;\n    }\n\n    .fluent-dark #fifa_grid .goal path,\n    .fluent2-dark #fifa_grid .goal path,\n    .tailwind-dark #fifa_grid .goal path,\n    .tailwind3-dark #fifa_grid .goal path,\n    .bootstrap5\\.3-dark #fifa_grid .goal path,\n    .material-dark #fifa_grid .goal path,\n    .material3-dark #fifa_grid .goal path,\n    .fabric-dark #fifa_grid .goal path,\n    .bootstrap-dark #fifa_grid .goal path,\n    .bootstrap4-dark #fifa_grid .goal path,\n    .bootstrap5-dark #fifa_grid .goal path,\n    .highcontrast #fifa_grid .goal path {\n        fill: #D3D8D4;\n    }\n\n    #fifa_grid .e-rowcell img {\n        margin: 0 3px;\n        vertical-align: text-bottom;\n    }\n\n    #fifa_grid .e-gridcontent table.tournament::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-image: url(https://upload.wikimedia.org/wikipedia/commons/thumb/b/ba/FIFA_World_Cup_Icon_%28Campionato_mondiale_di_calcio%29.svg/302px-FIFA_World_Cup_Icon_%28Campionato_mondiale_di_calcio%29.svg.png);\n        background-size: auto;\n        background-position: center;\n        background-repeat: no-repeat;\n        opacity: 0.1;\n        pointer-events: none;\n    }\n</style></div></body></html>","index.js":"{{ripple}}\n    var tooltipObj = new ej.popups.Tooltip({\n        cssClass: 'fifa_tooltip',\n        target: '.infotooltip',\n        beforeRender: beforeRender,\n        beforeOpen: beforeOpen,\n        opensOn: 'Hover',\n        width: 275,\n    });\n    tooltipObj.appendTo('#tooltip');\n\n    var grid = new ej.grids.Grid({\n        dataSource: window.fifaData,\n        gridLines: 'Both',\n        allowSorting: true,\n        enableStickyHeader: true,\n        allowTextWrap: true,\n        textWrapSettings: { wrapMode: 'Content' },\n        enableAltRow: true,\n        enableHover: false,\n        allowSelection: false,\n        queryCellInfo: queryCellInfo,\n        dataBound: dataBound,\n        columns: [\n            {\n                field: 'Year',\n                headerText: 'Year',\n                textAlign: 'Right',\n                width: 100,\n            },\n            {\n                field: 'Host',\n                headerText: 'Organizer',\n                template: '<div></div>',\n                width: 140,\n            },\n            {\n                field: 'Champions',\n                headerText: 'Champions',\n                template: '<div></div>',\n                width: 140,\n            },\n            {\n                field: 'Coach',\n                headerText: 'Winning Coach',\n                template: '<div></div>',\n                width: 185,\n            },\n            {\n                field: 'TopScorer',\n                headerText: 'Most Scorer(s)',\n                template: '<div></div>',\n                width: 185,\n            },\n            {\n                field: 'BestPlayerAward',\n                headerText: 'Player of season',\n                width: 170,\n                template: '<div></div>',\n            },\n        ],\n    });\n    grid.appendTo('#fifa_grid');\n\n    var isverticalPopup;\n\n    function beforeRender(args) {\n        var rowInfo = grid.getRowInfo(args.target.closest('td'));\n        var field = rowInfo.column.field;\n        var value = rowInfo.rowData[field];\n        var imageSource = '';\n        var cellInfo = '';\n        var hideImage = false;\n        if (value) {\n            switch (field) {\n                case 'Host':\n                    value = args.target.title;\n                    imageSource =\n                        'src/grid/images/country/' +\n                        (window.webpfiles.indexOf(value) > -1 ? value + '.webp' : value + '.png');\n                    cellInfo = window.countryInfo[0][value.replace(/ /g, '_')];\n                    break;\n                case 'Champions':\n                    imageSource = '//ej2.syncfusion.com/javascript/demos/src/grid/images/team/' + value + '.png';\n                    cellInfo = window.teamInfo[0][value.replace(/ /g, '_')];\n                    break;\n                case 'Coach':\n                    if (args.target.tagName === 'IMG') {\n                        value = rowInfo.rowData.Champions;\n                        imageSource =\n                            'src/grid/images/country/' +\n                            (window.webpfiles.indexOf(value) > -1 ? value + '.webp' : value + '.png');\n                        cellInfo = window.countryInfo[0][value.replace(/ /g, '_')];\n                    } else {\n                        if (value === 'Juan López') {\n                            hideImage = true;\n                        }\n                        imageSource =\n                            'src/grid/images/coach/' +\n                            value +\n                            (value === 'Aymoré Moreira' ? '.png' : '.jpg');\n                        cellInfo = window.coachInfo[0][value.replace(/ /g, '_')];\n                    }\n                    break;\n                case 'TopScorer':\n                    value = args.target.title;\n                    if (args.target.tagName === 'IMG') {\n                        if (value === 'Croatia') {\n                            hideImage = true;\n                        }\n                        imageSource = '//ej2.syncfusion.com/javascript/demos/src/grid/images/team/' + value + '.png';\n                        cellInfo = window.teamInfo[0][value.replace(/ /g, '_')];\n                    } else {\n                        imageSource = '//ej2.syncfusion.com/javascript/demos/src/grid/images/top_scorer/' + value + '.jpg';\n                        cellInfo = window.topScrorerInfo[0][value.replace(/ /g, '_')];\n                    }\n                    break;\n                case 'BestPlayerAward':\n                    if (args.target.tagName === 'IMG') {\n                        value = rowInfo.rowData.BestPlayerCountry;\n                        if (value === 'Croatia') {\n                            hideImage = true;\n                        }\n                        imageSource = '//ej2.syncfusion.com/javascript/demos/src/grid/images/team/' + value + '.png';\n                        cellInfo = window.teamInfo[0][value.replace(/ /g, '_')];\n                    } else {\n                        imageSource = '//ej2.syncfusion.com/javascript/demos/src/grid/images/best_player/' + value + '.jpg';\n                        cellInfo = window.bestPlayerInfo[0][value.replace(/ /g, '_')];\n                    }\n                    break;\n            }\n\n\n            var div1 = document.createElement('div');\n            var div2 = document.createElement('div');\n            var img = document.createElement('img');\n            img.alt = '';\n            img.src = imageSource;\n            img.decoding = 'async';\n            img.title = value;\n            img.dataFileWidth = '945';\n            img.dataFileHeight = '630';\n            img.classList.add('mw-file-element');\n            var div3 = document.createElement('div');\n            div3.innerHTML = cellInfo;\n\n            if (\n                (args.target.tagName === 'IMG' && field === 'Coach') ||\n                field === 'Host'\n            ) {\n                isverticalPopup = true;\n                tooltipObj.width = '275px';\n                div2.style.borderBottom = '1px solid #e0e0e0';\n                img.width = '275';\n                img.height = '175';\n\n                div3.style.padding = '12px';\n            } else {\n                isverticalPopup = false;\n                tooltipObj.width = '425px';\n                var display = hideImage ? 'none' : 'inline';\n                div1.style.display = 'inline';\n                div2.style.display = display;\n                div2.style.float = 'right';\n                div2.style.borderLeft = '1px solid #e0e0e0';\n                div2.style.margin = '0 0 0 12px';\n                img.width = '190';\n                img.height = '245';\n                div3.style.padding = '12px 0 12px 12px';\n            }\n            div2.appendChild(img);\n            div1.appendChild(div2);\n            div1.appendChild(div3);\n            tooltipObj.content = div1;\n        }\n    }\n\n    function beforeOpen(args) {\n        args.element.style.maxWidth = isverticalPopup ? '275px' : '425px';\n        args.element.style.width = isverticalPopup ? '275px' : '425px';\n    }\n\n    function queryCellInfo(args) {\n        if (\n            args.column.field === 'Host' ||\n            args.column.field === 'Champions' ||\n            args.column.field === 'Coach' || args.column.field === 'TopScorer' ||\n            args.column.field === 'BestPlayerAward'\n        ) {\n            var cell = args.cell.childNodes[0];\n            var values = args.data[args.column.field].split(',');\n            var country = args.data.TopScorerCountry.split(',');\n            var newRowData = [];\n            for (var k = 0; k < values.length; k++) {\n                var obj = Object.assign({}, args.data);\n                obj[args.column.field] = values[k];\n                if (args.column.field === 'TopScorer') {\n                    obj.TopScorerCountry = country[k];\n                }\n                newRowData.push(obj);\n            }\n\n            for (var i = 0; i < values.length; i++) {\n                var div = document.createElement('div');\n                var span = document.createElement('span');\n                if (!((args.column.field === 'TopScorer' && values[i].indexOf('Players') > -1) ||\n                    values[i] === 'Not awarded')) {\n                    var image = renderImage(newRowData[i], args.column.field);\n                    span.appendChild(image);\n                }\n                var link;\n                if ((args.column.field === 'TopScorer' &&\n                    (values[i].indexOf('Players') > -1 || values[i].indexOf('Ronaldo') > -1)) ||\n                    (args.column.field === 'BestPlayerAward' &&\n                        (values[i] === 'Not awarded' || values[i] === 'Mario Kempes' ||\n                            values[i] === 'Paolo Rossi' || values[i] === 'Salvatore Schillaci'))) {\n                    link = document.createElement('span');\n                    link.innerText = values[i];\n                } else {\n                    link = document.createElement('a');\n                    link.href = 'https://ej2.syncfusion.com/';\n                    link.textContent = values[i];\n                    link.target = '_blank';\n                    link.classList.add('infotooltip');\n                    link.title = values[i];\n                    link.onclick = function (e) { e.preventDefault(); };\n                }\n                div.appendChild(span);\n                div.appendChild(link);\n                cell.appendChild(div);\n            }\n            if (args.column.field === 'TopScorer') {\n                var scoreDiv = renderScoreIcons(args.data);\n                cell.appendChild(scoreDiv);\n            }\n        }\n        if (args.column.field === 'BestPlayerAward') {\n            var rowIndex = parseInt(args.cell.getAttribute('index'));\n            if (rowIndex > 0) {\n                if (this.currentViewData[rowIndex - 1][args.column.field] !== args.data[args.column.field]) {\n                    args.rowSpan = calculateRowspan(args, rowIndex);\n                }\n            } else {\n                args.rowSpan = calculateRowspan(args, rowIndex);\n            }\n        }\n    }\n\n    function calculateRowspan(args, rowIndex) {\n        var rowspan = 1;\n        for (var i = rowIndex + 1, j = 0; i < grid.currentViewData.length; i++, j++) {\n            if (args.data[args.column.field] !== grid.currentViewData[i][args.column.field]) {\n                rowspan = j + 1;\n                break;\n            }\n            if (i === grid.currentViewData.length - 1) {\n                rowspan = j + 2;\n                break;\n            }\n        }\n        return rowspan;\n    }\n\n    function dataBound() {\n        var tableEle = this.element.querySelector('.e-gridcontent table');\n        if (tableEle) {\n            tableEle.classList.add('tournament');\n        }\n    }\n\n    function renderImage(rowDetails, field) {\n        var value = '';\n        switch (field) {\n            case 'Host':\n                value = rowDetails.Host;\n                break;\n            case 'Champions':\n            case 'Coach':\n                value = rowDetails.Champions;\n                break;\n            case 'TopScorer':\n                value = rowDetails.TopScorerCountry;\n                break;\n            case 'BestPlayerAward':\n                value = rowDetails.BestPlayerCountry;\n                break;\n        }\n        var src =\n            'src/grid/images/country/' +\n            (window.webpfiles.indexOf(value) > -1 ? value + '.webp' : value + '.png');\n\n        var img = document.createElement('img');\n        img.alt = '';\n        img.src = src;\n        img.decoding = 'async';\n        img.title = value;\n        img.width = '23';\n        img.height = '15';\n        if (\n            field === 'Coach' ||\n            field === 'TopScorer' ||\n            field === 'BestPlayerAward'\n        ) {\n            img.classList.add('infotooltip');\n        }\n        img.dataFileWidth = '945';\n        img.dataFileHeight = '630';\n        return img;\n    }\n\n    function renderScoreIcons(rowDetails) {\n        var div = document.createElement('div');\n        for (var i = 0; i < rowDetails.TotalGoal; i++) {\n            var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n            svg.setAttribute('class', 'goal');\n            svg.setAttribute('width', '14');\n            svg.setAttribute('height', '14');\n            svg.setAttribute('viewBox', '0 0 14 14');\n            svg.setAttribute('fill', 'none');\n            var path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n            path.setAttribute('fill-rule', 'evenodd');\n            path.setAttribute('clip-rule', 'evenodd');\n            path.setAttribute('d', 'M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM9.45103 9.48743L11.9038 9.65149C12.3112 8.95696 12.5764 8.16672 12.6584 7.32454L10.5776 6.01477C10.46 5.93821 10.3698 5.82336 10.326 5.68938C10.2823 5.5554 10.2877 5.41047 10.3397 5.27922L11.253 2.99875C10.7088 2.38625 10.0334 1.89133 9.27329 1.55774L7.38384 3.13274C7.2772 3.22297 7.13774 3.27219 6.99829 3.27219C6.85884 3.27219 6.72212 3.22297 6.61274 3.13274L4.72329 1.55774C3.96313 1.89133 3.28774 2.38625 2.7436 2.99875L3.65415 5.27922C3.7061 5.41047 3.71157 5.5554 3.66782 5.68938C3.62407 5.82336 3.53657 5.93821 3.41626 6.01477L1.33813 7.32454C1.41743 8.16672 1.6854 8.95696 2.09282 9.65149L4.54556 9.48743C4.68774 9.47922 4.82993 9.51751 4.94204 9.60227C5.05415 9.68704 5.13618 9.80735 5.17173 9.94407L5.77329 12.3284C6.16978 12.4132 6.5772 12.4597 6.99829 12.4597C7.41938 12.4597 7.82954 12.4159 8.22329 12.3284L8.82485 9.94407C8.85767 9.80462 8.9397 9.68704 9.05454 9.60227C9.16938 9.51751 9.30884 9.47922 9.45103 9.48743ZM5.30298 5.81516L6.61274 4.86633C6.84243 4.69954 7.15415 4.69954 7.38384 4.86633V4.8636L8.6936 5.81516C8.92329 5.98196 9.01899 6.27727 8.93149 6.54797L8.4311 8.08743C8.3436 8.35813 8.09204 8.54133 7.80767 8.54133H6.18892C5.90454 8.54133 5.65298 8.35813 5.56548 8.08743L5.06509 6.54797C4.97759 6.27727 5.07329 5.98196 5.30298 5.81516Z');\n            svg.appendChild(path);\n            div.appendChild(svg);\n        }\n        return div;\n    }\n"}
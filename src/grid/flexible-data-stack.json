{"index.html":"<html><head><script src=\"//ej2.syncfusion.com/javascript/demos/grid/flexible-data/datasource.js\" type=\"text/javascript\"></script>\n<script src=\"https://cdn.syncfusion.com/ej2/27.1.48/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/27.1.48/material.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n            .control-section{\n                margin-top:100px;\n            }\n\n\n<div class=\"col-lg-9 control-section\">\n  <div class=\"content-wrapper\">\n    <div id=\"payload-detail\"></div>\n    <div id=\"Grid\"></div>\n  </div>\n</div>\n\n\n<div class=\"col-lg-3 property-section sb-prop-details\">\n  <div>\n    <table id=\"property\" title=\"Properties\" style=\"width: 100%\">\n      <tbody><tr style=\"height: 50px\">\n        <td style=\"width: 50%\">\n          <div class=\"prop-name\">Service</div>\n        </td>\n        <td style=\"width: 50%; \">\n          <div class=\"prop-value\">\n            <input type=\"text\" tabindex=\"0\" id=\"service_drop\">\n          </div>\n        </td>\n      </tr>\n      <tr style=\"height: 50px\">\n        <td style=\"width: 50%\">\n          <div class=\"prop-name\">Adaptor</div>\n        </td>\n        <td style=\"width: 50%; \">\n          <div class=\"prop-value\">\n            <input type=\"text\" id=\"adaptor_txt\" aria-label=\"Adaptor\">\n          </div>\n        </td>\n      </tr>\n      <tr style=\"height: 40px\">\n        <td style=\"width: 50%\" colspan=\"2\">\n          <input type=\"checkbox\" id=\"pageCheckbox\">\n        </td>\n      </tr>\n      <tr class=\"params_show_hide\" style=\"height: 40px\">\n        <td style=\"width: 50%\" colspan=\"2\">\n          <div class=\"prop-name\" style=\"font-size: 15px;\">Additional Parameters</div>\n        </td>\n      </tr>\n      <tr class=\"params_show_hide\" style=\"height: 50px\">\n        <td style=\"width: 50%;\">\n          <div>\n\n            <input class=\"e-input\" style=\"width : 100%\" type=\"text\" id=\"paramsKey\" placeholder=\"Enter Name\">\n          </div>\n        </td>\n        <td style=\"width: 50%;\">\n          <div>\n            <input class=\"e-input\" style=\"width : 100%\" type=\"text\" id=\"paramsValue\" placeholder=\"Enter Value\">\n          </div>\n        </td>\n      </tr>\n      <tr class=\"params_show_hide\" style=\"height: 50px\">\n        <td style=\"width: 50%\">\n          <div class=\"prop-name\">\n            <button style=\" width :100%;\" id=\"additionalParams\" class=\"samplebtn e-control e-btn e-primary\" type=\"button\" data-ripple=\"true\">Add</button>\n          </div>\n        </td>\n        <td style=\"width: 50%;\">\n          <div>\n            <textarea style=\"width: 100%; height: 45px;\" class=\"e-input e-textarea\" rows=\"2\" id=\"addParams\" readonly=\"\" aria-label=\"Additional parameters\"></textarea>\n          </div>\n        </td>\n      </tr>\n      <tr class=\"header_show_hide\" style=\"height: 40px\">\n        <td style=\"width: 50%\" colspan=\"2\">\n          <div class=\"prop-name\" style=\"font-size: 15px;\">HTTP Headers</div>\n        </td>\n      </tr>\n      <tr class=\"header_show_hide\" style=\"height: 50px\">\n        <td style=\"width: 50%;\">\n          <div>\n            <input class=\"e-input\" style=\"width : 100%\" type=\"text\" id=\"hkey\" placeholder=\"Enter Key\">\n          </div>\n        </td>\n        <td style=\"width: 50%; \">\n          <div>\n            <input class=\"e-input\" style=\"width : 100%\" type=\"text\" id=\"hvalue\" placeholder=\"Enter Value\">\n          </div>\n        </td>\n      </tr>\n      <tr class=\"header_show_hide\" style=\"height: 50px\">\n        <td style=\"width: 50%\">\n          <div class=\"prop-name\">\n            <button style=\"width : 100%\" id=\"headerId\" class=\"samplebtn e-control e-btn e-primary\" type=\"button\" data-ripple=\"true\">Add</button>\n          </div>\n        </td>\n        <td style=\"width: 50%;\">\n          <div>\n            <textarea style=\"width: 100%; height: 45px;\" class=\"e-input e-textarea\" rows=\"2\" id=\"hdvalue\" readonly=\"\" aria-label=\"HTTP Headers\"></textarea>\n          </div>\n        </td>\n      </tr>\n      <tr style=\"height: 50px\">\n        <td style=\"width: 50%;\" colspan=\"2\">\n          <div>\n            <button style=\"width:100%\" id=\"validateSubmit\" class=\"samplebtn e-control e-btn e-primary\" type=\"submit\" data-ripple=\"true\">Connect</button>\n          </div>\n        </td>\n      </tr>\n    </tbody></table>\n  </div>\n</div>\n</div>\n\n<!-- custom code end -->\n</body></html>","index.js":"{{ripple}}\n    var changedAdaptor = 'ODataV4Adaptor';\n    var selectedService = 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders/';\n    var defaultParam;\n    var defaultHeader;\n    var header;\n    var params;\n    var serviceURL = [\n        { text: 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders/', value: 'ODataV4Adaptor' },\n        { text: 'https://services.syncfusion.com/js/production/api/Orders', value: 'WebApiAdaptor' },\n        { text: 'https://services.syncfusion.com/js/production/api/UrlDataSource', value: 'UrlAdaptor' },\n        { text: 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders', value: 'Custom Binding' }\n    ];\n    var defaultColumns = [\n        { field: 'OrderID', headerText: 'Order ID', textAlign: 'Right', width: 120, type: 'number' },\n        { field: 'CustomerID', width: 140, headerText: 'Customer ID' },\n        { field: 'EmployeeID', headerText: 'Employee ID', width: 120, textAlign: 'Right' },\n        { field: 'ShipCity', headerText: 'Ship City', width: 140 },\n    ];\n    var empColumns = [\n        { field: 'EmployeeID', headerText: 'Employee ID', width: 130, textAlign: 'Right' },\n        { field: 'Employees', headerText: 'Employee Name', width: 150 },\n        { field: 'Designation', headerText: 'Designation', width: 130 },\n        { field: 'CurrentSalary', headerText: 'Current Salary', format: \"C2\", textAlign: 'Right', width: 140 }\n    ];\n    var serviceDropdown = new ej.dropdowns.DropDownList({\n        dataSource: serviceURL,\n        popupWidth: 'auto',\n        text: 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders/',\n        fields: { text: 'text', value: 'value' },\n        change: function (e) {\n            selectedService = e.itemData.text;\n            changedAdaptor = e.itemData.value;\n            document.getElementById('adaptor_txt').value = changedAdaptor;\n            var paramElements = document.querySelectorAll('.params_show_hide');\n            var headerElements = document.querySelectorAll('.header_show_hide');\n            ej.base.removeClass(paramElements, 'hide_elem');\n            ej.base.removeClass(headerElements, 'hide_elem');\n            if (changedAdaptor === 'Custom Binding') {\n                ej.base.addClass(paramElements, 'hide_elem');\n                ej.base.addClass(headerElements, 'hide_elem');\n            }\n        }\n    });\n    serviceDropdown.appendTo('#service_drop');\n    var adaptorTxtBox = new ej.inputs.TextBox({\n        value: 'ODataV4Adaptor',\n        readonly: true,\n    });\n    adaptorTxtBox.appendTo('#adaptor_txt');\n    var defaultData = new ej.data.DataManager({\n        url: 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders/',\n        adaptor: new ej.data.ODataV4Adaptor(),\n        crossDomain: true\n    });\n    var grid = new ej.grids.Grid({\n        dataSource: defaultData,\n        columns: defaultColumns,\n        allowPaging: true,\n    });\n    grid.appendTo('#Grid');\n    document.getElementById('payload-detail').innerHTML = \"<b><u>Payload Information</u></b><br> Service URL: 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders/' <br> Adaptor Type: ODataV4Adaptor\";\n    var pagerCheckbox = new ej.buttons.CheckBox({\n        checked: true,\n        cssClass: \"prop_page\",\n        label: 'Enable Paging'\n    });\n    pagerCheckbox.appendTo('#pageCheckbox');\n    document.getElementById('additionalParams').addEventListener('click', function () {\n        httpAdditionalInfo(\"paramsKey\", \"paramsValue\", \"addParams\");\n    });\n    document.getElementById('headerId').addEventListener('click', function () {\n        httpAdditionalInfo(\"hkey\", \"hvalue\", \"hdvalue\");\n    });\n    function createObjectArray(headers) {\n        var result = headers.trim().split('\\n').map(function (head) { return JSON.parse(head); });\n        return result;\n    }\n    var BASE_URL = 'https://services.odata.org/V4/Northwind/Northwind.svc/Orders';\n    var ajax = new ej.base.Ajax({\n        type: 'GET', mode: true,\n        onFailure: function (e) { return false; }\n    });\n    function executeCustomData(state) {\n        return getData(state)\n            .then(function (result) {\n                grid.changeDataSource(result, defaultColumns);\n            });\n    }\n\n    function getData(state) {\n        defaultParam = document.getElementById(\"addParams\").value;\n        params = defaultParam ? createObjectArray(defaultParam) : [];\n        var pageQuery = \"$skip=\" + state.skip + \"&$top=\" + state.take;\n        if (document.getElementById(\"pageCheckbox\").ej2_instances[0].checked) {\n            ajax.url = BASE_URL + \"?\" + pageQuery + \"&$count=true\";\n        }\n        else {\n            ajax.url = BASE_URL + \"?\" + \"&$count=true\";\n        }\n        return ajax.send()\n            .then(function (response) {\n                var data = JSON.parse(response);\n                var result = data.value;\n                var count = parseInt(data['@odata.count'], 10);\n                return { result: result, count: count };\n            });\n    }\n    changedAdaptor = document.getElementById('service_drop').ej2_instances[0].value;\n    document.getElementById('validateSubmit').onclick = function (e) {\n        grid.query.params = [];\n        grid.query.queries = [];\n        var newDataSource;\n        var checkboxState = document.getElementById(\"pageCheckbox\").ej2_instances[0].checked;\n        var newQuery = new ej.data.Query();\n        defaultParam = document.getElementById(\"addParams\").value;\n        defaultHeader = document.getElementById('hdvalue').value;\n        header = defaultHeader ? createObjectArray(defaultHeader) : [];\n        params = defaultParam ? createObjectArray(defaultParam) : [];\n        params.forEach(function (obj) {\n            for (var key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    var value = obj[key];\n                    newQuery.addParams(key, value);\n                    if (changedAdaptor !== 'UrlAdaptor' && changedAdaptor !== 'Custom Binding' && !checkboxState) {\n                        if (key == 'skip') {\n                            newQuery.skip(value);\n                        }\n                        if (key == 'take') {\n                            newQuery.take(value);\n                        }\n                    }\n                }\n            }\n        });\n        grid.setProperties({ query: newQuery, allowPaging: checkboxState }, true);\n        if (changedAdaptor === 'Custom Binding') {\n            var state = { skip: 1, take: 12 };\n            executeCustomData(state);\n            grid.dataStateChange = function (args) {\n                executeCustomData(args);\n            };\n        }\n        else {\n            var col = changedAdaptor === 'UrlAdaptor' ? empColumns : defaultColumns;\n            if (changedAdaptor === 'ODataV4Adaptor') {\n                newDataSource = new ej.data.DataManager({\n                    url: 'https://services.syncfusion.com/js/production/api/Orders',\n                    adaptor: new ej.data.ODataV4Adaptor(),\n                    headers: header,\n                    crossDomain: true\n                });\n            }\n            else if (changedAdaptor === 'UrlAdaptor') {\n                newDataSource = new ej.data.DataManager({\n                    url: 'https://services.syncfusion.com/js/production/api/UrlDataSource',\n                    adaptor: new ej.data.UrlAdaptor(),\n                    headers: header,\n                    crossDomain: true\n                });\n                grid.query.addParams('dataCount', '1000');\n            }\n            else if (changedAdaptor === 'WebApiAdaptor') {\n                newDataSource = new ej.data.DataManager({\n                    url: 'https://services.syncfusion.com/js/production/api/Orders',\n                    adaptor: new ej.data.WebApiAdaptor(),\n                    headers: header,\n                    crossDomain: true\n                });\n            }\n            grid.changeDataSource(newDataSource, col);\n        }\n        var payloadInfo;\n        if (changedAdaptor === 'Custom Binding') {\n            payloadInfo = \"<b><u>Payload Information</u></b><br> Custom Binding <br> Service URL: \" + selectedService;\n        }\n        else {\n            payloadInfo = \"<b><u>Payload Information</u></b><br> Service URL: \" + selectedService + \" <br> Adaptor Type: \" + changedAdaptor + \" <br> Additional Parameters: \" + defaultParam + \" <br> Headers: \" + defaultHeader;\n        }\n        document.getElementById('payload-detail').innerHTML = '';\n        document.getElementById('payload-detail').innerHTML += payloadInfo;\n        document.getElementById(\"addParams\").value = '';\n        document.getElementById(\"hdvalue\").value = '';\n    };\nvar httpAdditionalInfo = function (name, val, btn) {\n    var parameterKey = document.getElementById(name).value;\n    var parameterValue = document.getElementById(val).value;\n    if (parameterKey && parameterValue) {\n        document.getElementById(btn).value += \"{\\\"\" + parameterKey + \"\\\": \\\"\" + parameterValue + \"\\\"}\\n\";\n    }\n    document.getElementById(name).value = '';\n    document.getElementById(val).value = '';\n};\n\n"}